import{r as n,a as T,j as t}from"./index-BNEvq925.js";const v="_page_yp0nd_1",g="_title_yp0nd_15",w="_sheet_yp0nd_22",k="_typewriter_yp0nd_45",b="_cursor_yp0nd_51",B="_blink_yp0nd_1",D="_cursorDone_yp0nd_58",I="_controlsRow_yp0nd_71",L="_sparkleButton_yp0nd_79",S="_muteButton_yp0nd_100",O="_smilePopup_yp0nd_123",P="_floatUp_yp0nd_1",A="_confettiLayer_yp0nd_155",$="_confetti_yp0nd_155",M="_confettiFall_yp0nd_1",U="_confetti1_yp0nd_170",C="_confetti2_yp0nd_176",F="_confetti3_yp0nd_182",Y="_confetti4_yp0nd_188",z="_srOnly_yp0nd_207",e={page:v,title:g,sheet:w,typewriter:k,cursor:b,blink:B,cursorDone:D,controlsRow:I,sparkleButton:L,muteButton:S,smilePopup:O,floatUp:P,confettiLayer:A,confetti:$,confettiFall:M,confetti1:U,confetti2:C,confetti3:F,confetti4:Y,srOnly:z},Q="#f9cedf",W=52,q=6e3,H=({onAccentChange:u,letter:l,audioSrc:y,smileImage:m})=>{const[p,_]=n.useState(""),[h,d]=n.useState(!1),[c,x]=n.useState(!1),o=n.useRef(null),r=n.useRef(null),a=n.useRef(null),f=n.useRef(null);n.useEffect(()=>(u(Q),()=>{u(null),r.current&&clearInterval(r.current),a.current&&clearTimeout(a.current)}),[u]),n.useEffect(()=>{_("");let s=0;return r.current=setInterval(()=>{if(s>=l.length){r.current&&clearInterval(r.current);return}const i=l.charAt(s);_(N=>N+i),s+=1},W),()=>{r.current&&clearInterval(r.current)}},[l]),n.useEffect(()=>{if(!o.current)return;(()=>{o.current?.play().catch(()=>{})})()},[]),n.useEffect(()=>{o.current&&(o.current.muted=c)},[c]),n.useEffect(()=>{if(!f.current)return;const s=T(f.current,{opacity:[0,1],translateY:[12,0],duration:620,easing:"easeOutQuad"});return()=>{s.pause()}},[]);const R=()=>{a.current&&clearTimeout(a.current),d(!0),a.current=setTimeout(()=>{d(!1)},q)},j=p===l,E=()=>{x(s=>!s)};return t.jsxs("div",{className:e.page,children:[t.jsx("h2",{className:e.title,children:"–ú—ñ–π –ª–∏—Å—Ç –¥–æ —Ç–µ–±–µ"}),t.jsx("div",{ref:f,className:e.sheet,children:t.jsxs("p",{className:e.typewriter,children:[p,t.jsx("span",{className:`${e.cursor} ${j?e.cursorDone:""}`,children:"|"})]})}),t.jsxs("div",{className:e.controlsRow,children:[t.jsx("button",{type:"button",className:e.sparkleButton,onClick:R,children:"‚ú® –ù–∞—Ç–∏—Å–Ω–∏, —è–∫—â–æ —Ö–æ—á–µ—à —É—Å–º—ñ—Ö–Ω—É—Ç–∏—Å—å"}),t.jsx("button",{type:"button",className:e.muteButton,onClick:E,"aria-pressed":c,"aria-label":c?"–£–≤—ñ–º–∫–Ω—É—Ç–∏ –∑–≤—É–∫":"–í–∏–º–∫–Ω—É—Ç–∏ –∑–≤—É–∫",children:c?"üîá –¢–∏—Ö–∏–π —Ä–µ–∂–∏–º":"üîä –ó—ñ –∑–≤—É–∫–æ–º"})]}),h&&t.jsxs("div",{className:e.smilePopup,role:"status",children:[t.jsx("div",{className:e.confettiLayer,children:Array.from({length:12}).map((s,i)=>t.jsx("span",{className:`${e.confetti} ${e[`confetti${i%4+1}`]}`},i))}),t.jsx("p",{children:"–õ—é–±–ª—é —Ç–µ–±–µ"}),t.jsx("img",{src:m,alt:"–ù–∞—à–∞ –ø–æ—Å–º—ñ—à–∫–∞",loading:"lazy",decoding:"async"})]}),t.jsx("audio",{ref:o,src:y,loop:!0,className:e.srOnly})]})};export{H as default};
